# SPDX-FileCopyrightText: Contributors to PyPSA-Eur <https://github.com/pypsa/pypsa-eur>
#
# SPDX-License-Identifier: CC0-1.0

tutorial: true

run:
  prefix: "test-tyndp"
  disable_progressbar: true
  shared_resources:
    policy: "test"
  shared_cutouts: true

# TODO set foresight
foresight: myopic

scenario:
  clusters:
  - all
  planning_horizons:
  - 2030

countries: ['BE']

snapshots:
  start: "2013-03-01"
  end: "2013-03-08"

enable:
  retrieve_tyndp_bundle: true

co2_budget:
  # TODO define carbon budget compliant with EU 2030 and 2050 targets
  2020: 0.701
  2025: 0.524
  2030: 0.297
  2035: 0.150
  2040: 0.071
  2045: 0.032
  2050: 0.000

electricity:
  base_network: tyndp-raw
  transmission_limit: v1.0
  extendable_carriers:
    Generator: [OCGT]
    StorageUnit: [battery]
    Store: [H2]
    Link: [H2 pipeline]
  renewable_carriers: [solar, solar-hsat, onwind, offwind-ac, offwind-dc, offwind-float]
  estimate_renewable_capacities:
    enable: false

atlite:
  default_cutout: be-03-2013-era5
  cutouts:
    be-03-2013-era5:
      module: era5
      x: [4., 15.]
      y: [46., 56.]
      time: ["2013-03-01", "2013-03-08"]

renewable:
  onwind:
    cutout: be-03-2013-era5
  offwind-ac:
    cutout: be-03-2013-era5
    max_depth: false
  offwind-dc:
    cutout: be-03-2013-era5
    max_depth: false
  offwind-float:
    cutout: be-03-2013-era5
    max_depth: false
    min_depth: false
  solar:
    cutout: be-03-2013-era5
  solar-hsat:
    cutout: be-03-2013-era5

transmission_projects:
  enable: true
  include:
    tyndp2020: false
    nep: false
    manual: false

load:
  source: tyndp # opsd, tyndp
  manual_adjustments: false
  supplement_synthetic: true
  tyndp_scenario:
    scenario: DE  # NT, DE or GA
    year: 2030  # 2030, 2040 or 2050 (only for DE or GA)

pypsa_eur:
  Bus:
  - AC
  Link:
  - DC
  Generator:
  - onwind
  - offwind-ac
  - offwind-dc
  - offwind-float
  - solar-hsat
  - solar
  - ror
  StorageUnit:
  - PHS
  - hydro
  Store: []

sector:
  transport: true
  heating: true
  biomass: false
  industry: false
  agriculture: false
  fossil_fuels: true

  land_transport_fuel_cell_share:  # Not modelled
    2020: 0
    2025: 0
    2030: 0
    2035: 0
    2040: 0
    2045: 0
    2050: 0
  land_transport_electric_share:
    2020: 0
    2025: 0.15
    2030: 0.3
    2035: 0.45
    2040: 0.7
    2045: 0.85
    2050: 1
  land_transport_ice_share:  # Not modelled
    2020: 0
    2025: 0
    2030: 0
    2035: 0
    2040: 0
    2045: 0
    2050: 0
  h2_topology_tyndp:
    enable: true
    tyndp_scenario:
      scenario: DE  # NT, DE or GA
      year: 2030  # 2030, 2035, 2040, 2045 or 2050 (only for DE or GA)
  ATR: true

clustering:
  mode: administrative  # TODO Switch to Bidding zones to preserve bidding zones shapes
  administrative:
    level: 3
  temporal:
    resolution_sector: 24H

solving:
  solver:
    name: highs
    options: highs-simplex
  mem: 4000
